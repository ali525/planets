
document.getElementById("button1").onclick = doFunction; // attach to button

// do on button click
function doFunction() {

   // do get request
    httpGetAsync ('http://127.0.0.1:3000/authors', // url
    testFunction); // callback
} // post instead -- google how to post/put -- instead of getting you'll be sending - can get in separate js file

// referred to https://stackoverflow.com/questions/247483/http-get-request-in-javascript for help

function httpGetAsync(theUrl, callback)
{
    var xmlHttp = new XMLHttpRequest();
    xmlHttp.onreadystatechange = function() {
        if (xmlHttp.readyState == 4 && xmlHttp.status == 200)
            callback(xmlHttp.responseText);
    }
    xmlHttp.open("GET", theUrl, true); // true for asynchronous
    xmlHttp.send(null);
}

function testFunction(response) {
  let gotSomething = JSON.parse(response);
  let searchTerm = document.getElementById("search").value;
  var myStringArray = ['User Found'];
  var arrayLength = myStringArray.length;
  for (var i = 0; i < arrayLength; i++) {
    alert(myStringArray[i]);
    //Do something
}

  document.getElementById("resultscontainer").innerHTML = gotSomething[0].name;
}


function makeAuthorObject() {
  let author = new Object();
  author.id = "2";
  author.name = "Jaja";


  let toSend = JSON.toString(author);

  httpPutAsync(url, callback, toSend);
}



function openTab(evt, cityName) {
  // Declare all variables
  var i, tabcontent, tablinks;

  // Get all elements with class="tabcontent" and hide them
  tabcontent = document.getElementsByClassName("tabcontent");
  for (i = 0; i < tabcontent.length; i++) {
    tabcontent[i].style.display = "none";
  }

  // Get all elements with class="tablinks" and remove the class "active"
  tablinks = document.getElementsByClassName("tablinks");
  for (i = 0; i < tablinks.length; i++) {
    tablinks[i].className = tablinks[i].className.replace(" active", "");
  }

  // Show the current tab, and add an "active" class to the button that opened the tab
  document.getElementById(cityName).style.display = "block";
  evt.currentTarget.className += " active";
}





// found this here: https://developer.mozilla.org/en-US/docs/Web/API/FormData/Using_FormData_Objects //
    var form = document.forms.namedItem("fileinfo");
    form.addEventListener('submit', function(ev) {

      var oOutput = document.querySelector("div"),
          oData = new FormData(form);

      oData.append("CustomField", "This is some extra data");

      var oReq = new XMLHttpRequest();
      oReq.open("POST", "stash.php", true);
      oReq.onload = function(oEvent) {
        if (oReq.status == 200) {
          oOutput.innerHTML = "Uploaded!";
        } else {
          oOutput.innerHTML = "Error " + oReq.status + " occurred when trying to upload your file.<br \/>";
        }
      };

      oReq.send(oData);
      ev.preventDefault();
    }, false);



jQuery.ajax({
      url: "'http://127.0.0.1:3000/authors'",
      method: 'POST',
      data: jQuery("#userform").serializeArray(),
      success: function ( response ) {
      console.log( response ); // The Response Object
                }
            });
